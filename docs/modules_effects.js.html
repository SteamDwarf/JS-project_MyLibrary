<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: modules/effects.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: modules/effects.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import $ from '../core.js';

/**
 * @description Ядро управления анимациями, использующими requestAnimationFrame
 * @param {number} duration - длительность анимации.
 * @param {function | undefined} callback - сама анимация.
 * @param {function | undefined} finallFunction - финальная функция, которая будет выполняться по завершению анимации.
 * @returns {function} _animateOverTime - служебная функция. 
 */
$.prototype.animateOverTime = function(duration, callback, finallFunction) {
    let timeStart;

    //Служебная функция управления анимацией
    function _animateOverTime(time) {
        let timeElapsed;
        let complection;

        if(!timeStart) {
            timeStart = time;
        }

        timeElapsed = time - timeStart; //Сколько времени длится анимация.
        complection = Math.min(timeElapsed / duration, 1); //Насколько завершена данная анимация.

        callback(complection);

        if(timeElapsed &lt; duration) {
            requestAnimationFrame(_animateOverTime);
        } else {
            if(typeof finallFunction === 'function') {
                finallFunction();
            }
        }
    }

    return _animateOverTime;
};

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="$.html">$</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Sat Jun 12 2021 13:02:26 GMT+0300 (Москва, стандартное время)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
